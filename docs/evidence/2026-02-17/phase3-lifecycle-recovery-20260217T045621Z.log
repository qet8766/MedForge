
### Create Sessions

- create A: `{"data":{"message":"Session started.","session":{"id":"6e98ce21-881a-498d-ba8f-a5f0a6ad50f7","user_id":"2a9c745a-2802-4e46-9b32-4c9eacd4ff61","exposure":"external","pack_id":"00000000-0000-0000-0000-000000000100","status":"running","container_id":"fcddc625e82210782b7982e918207900cda3a2f4923b51872e84967bdc812eb5","gpu_id":0,"slug":"cawq2yy3","workspace_zfs":"tank/medforge/workspaces/2a9c745a-2802-4e46-9b32-4c9eacd4ff61/6e98ce21-881a-498d-ba8f-a5f0a6ad50f7","created_at":"2026-02-17T04:56:23.917479","started_at":"2026-02-17T04:56:24.590292","stopped_at":null,"error_message":null}},"meta":{"request_id":"7f277b9e-8305-4313-8e9b-f975291ea2a4","api_version":"v1.0","timestamp":"2026-02-17T04:56:24.602239Z","limit":null,"next_cursor":null,"has_more":null}}`
- create B: `{"data":{"message":"Session started.","session":{"id":"c09fa0ff-7fd8-4573-9d8f-46bafb0a4859","user_id":"3b98f206-a86c-49d0-ab18-f7541cd0eefe","exposure":"external","pack_id":"00000000-0000-0000-0000-000000000100","status":"running","container_id":"3a0edd9cfc45719e90a563a65cc5c69b88dde7bc7b745ac4efc60e3ace8e5054","gpu_id":1,"slug":"y5epf5xx","workspace_zfs":"tank/medforge/workspaces/3b98f206-a86c-49d0-ab18-f7541cd0eefe/c09fa0ff-7fd8-4573-9d8f-46bafb0a4859","created_at":"2026-02-17T04:56:24.701775","started_at":"2026-02-17T04:56:25.341083","stopped_at":null,"error_message":null}},"meta":{"request_id":"17767bcb-84b8-4ee9-a049-88170a47c872","api_version":"v1.0","timestamp":"2026-02-17T04:56:25.350663Z","limit":null,"next_cursor":null,"has_more":null}}`

### End-to-End Core Runtime

- GPU in session A: `NVIDIA GeForce RTX 5090`
- workspace write/read: `alpha`
- stop A: `{"data":{"message":"Session stop requested."},"meta":{"request_id":"52051952-d48b-4941-8831-069a1758eb58","api_version":"v1.0","timestamp":"2026-02-17T04:56:25.657379Z","limit":null,"next_cursor":null,"has_more":null}}`
- snapshot: `tank/medforge/workspaces/2a9c745a-2802-4e46-9b32-4c9eacd4ff61/6e98ce21-881a-498d-ba8f-a5f0a6ad50f7@stop-1771304188140`
- stop B: `{"data":{"message":"Session stop requested."},"meta":{"request_id":"1eadb071-0d51-413c-9d88-da798d710244","api_version":"v1.0","timestamp":"2026-02-17T04:56:28.784283Z","limit":null,"next_cursor":null,"has_more":null}}`

### Skipped Lanes

- Routing matrix and isolation checks skipped in core-only mode.
- Browser and websocket lane skipped in core-only mode.

### API Log Snippet

```text
INFO:     Started server process [339643]
INFO:     Waiting for application startup.
INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.runtime.migration] Running upgrade  -> 2474ec93cdb5, initial_schema
INFO  [alembic.runtime.migration] Running upgrade 2474ec93cdb5 -> a1b2c3d4e5f6, drop_gpu_active
2026-02-17 13:56:24 [info     ] session.start                  gpu_id=0 pack_id=00000000-0000-0000-0000-000000000100 request_id=7f277b9e-8305-4313-8e9b-f975291ea2a4 session_id=6e98ce21-881a-498d-ba8f-a5f0a6ad50f7 slug=cawq2yy3 exposure=EXTERNAL user_id=2a9c745a-2802-4e46-9b32-4c9eacd4ff61
2026-02-17 13:56:25 [info     ] session.start                  gpu_id=1 pack_id=00000000-0000-0000-0000-000000000100 request_id=17767bcb-84b8-4ee9-a049-88170a47c872 session_id=c09fa0ff-7fd8-4573-9d8f-46bafb0a4859 slug=y5epf5xx exposure=EXTERNAL user_id=3b98f206-a86c-49d0-ab18-f7541cd0eefe
2026-02-17 13:56:28 [info     ] session.stop                   correlation_id=28053b4a-6793-4190-8aca-1f8104e40097 gpu_id=0 pack_id=00000000-0000-0000-0000-000000000100 reason=requested recovery_mode=poll session_id=6e98ce21-881a-498d-ba8f-a5f0a6ad50f7 slug=cawq2yy3 exposure=EXTERNAL user_id=2a9c745a-2802-4e46-9b32-4c9eacd4ff61
2026-02-17 13:56:28 [info     ] session.recovery.decision      container_id=3a0edd9cfc45719e90a563a65cc5c69b88dde7bc7b745ac4efc60e3ace8e5054 correlation_id=28053b4a-6793-4190-8aca-1f8104e40097 recovery_mode=poll session_id=c09fa0ff-7fd8-4573-9d8f-46bafb0a4859 slug=y5epf5xx state=running user_id=3b98f206-a86c-49d0-ab18-f7541cd0eefe
2026-02-17 13:56:28 [info     ] session.poll.updated           correlation_id=28053b4a-6793-4190-8aca-1f8104e40097 recovery_mode=poll updated=1
2026-02-17 13:56:33 [info     ] session.stop                   correlation_id=4e5de331-3e85-4535-ae7a-c48d8b8ba15c gpu_id=1 pack_id=00000000-0000-0000-0000-000000000100 reason=requested recovery_mode=poll session_id=c09fa0ff-7fd8-4573-9d8f-46bafb0a4859 slug=y5epf5xx exposure=EXTERNAL user_id=3b98f206-a86c-49d0-ab18-f7541cd0eefe
2026-02-17 13:56:33 [info     ] session.poll.updated           correlation_id=4e5de331-3e85-4535-ae7a-c48d8b8ba15c recovery_mode=poll updated=1
```

Validation complete: /home/shk/projects/MedForge/docs/evidence/2026-02-17/phase4-routing-e2e-20260217T045621Z.md
.................................                                        [100%]
33 passed in 25.70s
