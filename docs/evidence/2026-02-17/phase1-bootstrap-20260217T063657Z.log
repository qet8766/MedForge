 Image compose-medforge-web Building 
 Image compose-medforge-caddy Building 
 Image compose-medforge-api Building 
 Image compose-medforge-api-worker Building 
#1 [internal] load local bake definitions
#1 reading from stdin 2.20kB done
#1 DONE 0.0s

#2 [medforge-api internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.05kB done
#2 DONE 0.1s

#3 [medforge-caddy internal] load build definition from Dockerfile
#3 transferring dockerfile: 450B done
#3 DONE 0.1s

#4 [medforge-web internal] load build definition from Dockerfile
#4 transferring dockerfile: 1.29kB done
#4 DONE 0.1s

#5 [medforge-api internal] load metadata for docker.io/library/python:3.12-slim
#5 DONE 0.0s

#6 [medforge-api-worker internal] load .dockerignore
#6 transferring context: 125B done
#6 DONE 0.0s

#7 [medforge-api 1/5] FROM docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab
#7 resolve docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done
#7 DONE 0.1s

#8 [medforge-api-worker internal] load build context
#8 transferring context: 9.07kB done
#8 transferring context: 9.07kB done
#8 DONE 0.0s

#9 [medforge-api 2/5] WORKDIR /app
#9 CACHED

#10 [medforge-api 3/5] COPY . .
#10 CACHED

#11 [medforge-api 4/5] RUN apt-get update     && sed -i 's/^Components: .*/Components: main contrib non-free non-free-firmware/' /etc/apt/sources.list.d/debian.sources     && apt-get update     && apt-get install -y --no-install-recommends curl ca-certificates kmod zfsutils-linux     && curl -LsSf https://astral.sh/uv/0.8.22/install.sh | sh     && ln -s /root/.local/bin/uv /usr/local/bin/uv     && uv pip install --system --no-cache-dir .     && apt-get clean && rm -rf /var/lib/apt/lists/*
#11 CACHED

#12 [medforge-api 5/5] RUN groupadd -g 995 docker || true     && useradd -r -m -s /bin/false -G docker medforge     && chown -R medforge:medforge /app
#12 CACHED

#13 [medforge-api-worker 5/5] RUN groupadd -g 999 docker || true     && useradd -r -m -s /bin/false -G docker medforge     && chown -R medforge:medforge /app
#13 CACHED

#14 [medforge-api] exporting to image
#14 exporting layers done
#14 exporting manifest sha256:08283d72e4f1efa4b505a3a174481c0dae5e4bc6e1904eb4fe6897debfd77c6a done
#14 exporting config sha256:74cc7476d649c40f6864d2219702cc2c7d7b98a31e3337e425728d8260c3ad2c 0.0s done
#14 exporting attestation manifest sha256:72b657784ba6f0dfe8381ce0ab414ace4c55227da5f1f43343dab8d5f43102c3 0.1s done
#14 exporting manifest list sha256:78f123ba06092bdfff554504d9a7bfb93718a4a61e0a4b3e116cda9b841c4f37
#14 exporting manifest list sha256:78f123ba06092bdfff554504d9a7bfb93718a4a61e0a4b3e116cda9b841c4f37 0.0s done
#14 naming to docker.io/library/compose-medforge-api:latest 0.0s done
#14 unpacking to docker.io/library/compose-medforge-api:latest 0.0s done
#14 DONE 0.2s

#15 [medforge-api-worker] exporting to image
#15 exporting layers done
#15 exporting manifest sha256:df24cb36b145ce414204498c2cca6846fdd1003a085d20a2e86421dab6d9bb1d done
#15 exporting config sha256:9ba142d91240b63b07ab6cbdfa059c1078bd2e4c74ffb9657700d6001c03bcdb 0.0s done
#15 exporting attestation manifest sha256:c3c879d31d805f4dc499c21924515a962566b22c1dff70e9874aed8fb701bd5f 0.1s done
#15 exporting manifest list sha256:b58c0217c4de5f6d7bafbcf6953a7b7fd2e538334476e3acade839ec92b3ddda 0.0s done
#15 naming to docker.io/library/compose-medforge-api-worker:latest done
#15 unpacking to docker.io/library/compose-medforge-api-worker:latest 0.0s done
#15 DONE 0.2s

#16 [medforge-web internal] load metadata for docker.io/library/node:20-alpine
#16 ...

#17 [medforge-api] resolving provenance for metadata file
#17 DONE 0.0s

#18 [medforge-api-worker] resolving provenance for metadata file
#18 DONE 0.0s

#19 [medforge-caddy internal] load metadata for docker.io/library/caddy:2@sha256:c3d7ee5d2b11f9dc54f947f68a734c84e9c9666c92c88a7f30b9cba5da182adb
#19 ...

#20 [medforge-caddy internal] load metadata for docker.io/library/caddy:2-builder@sha256:01668408cc26e2e00c9d067c30cb43b2ba14ad1f2808beda55503cb2a31f59dc
#20 DONE 1.1s

#16 [medforge-web internal] load metadata for docker.io/library/node:20-alpine
#16 DONE 1.1s

#19 [medforge-caddy internal] load metadata for docker.io/library/caddy:2@sha256:c3d7ee5d2b11f9dc54f947f68a734c84e9c9666c92c88a7f30b9cba5da182adb
#19 DONE 1.1s

#21 [medforge-web internal] load .dockerignore
#21 transferring context: 110B done
#21 DONE 0.0s

#22 [medforge-caddy internal] load .dockerignore
#22 transferring context: 2B done
#22 DONE 0.0s

#23 [medforge-web internal] load build context
#23 DONE 0.0s

#24 [medforge-web builder 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#24 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.1s done
#24 DONE 0.1s

#25 [medforge-caddy stage-1 1/2] FROM docker.io/library/caddy:2@sha256:c3d7ee5d2b11f9dc54f947f68a734c84e9c9666c92c88a7f30b9cba5da182adb
#25 resolve docker.io/library/caddy:2@sha256:c3d7ee5d2b11f9dc54f947f68a734c84e9c9666c92c88a7f30b9cba5da182adb
#25 resolve docker.io/library/caddy:2@sha256:c3d7ee5d2b11f9dc54f947f68a734c84e9c9666c92c88a7f30b9cba5da182adb 0.1s done
#25 DONE 0.1s

#26 [medforge-caddy builder 1/2] FROM docker.io/library/caddy:2-builder@sha256:01668408cc26e2e00c9d067c30cb43b2ba14ad1f2808beda55503cb2a31f59dc
#26 resolve docker.io/library/caddy:2-builder@sha256:01668408cc26e2e00c9d067c30cb43b2ba14ad1f2808beda55503cb2a31f59dc 0.1s done
#26 DONE 0.1s

#27 [medforge-caddy builder 2/2] RUN xcaddy build --with github.com/caddy-dns/cloudflare
#27 CACHED

#28 [medforge-caddy stage-1 2/2] COPY --from=builder /usr/bin/caddy /usr/bin/caddy
#28 CACHED

#23 [medforge-web internal] load build context
#23 transferring context: 2.80kB done
#23 DONE 0.0s

#29 [medforge-web runner 5/6] COPY --from=builder --chown=nextjs:nextjs /app/.next/standalone ./
#29 CACHED

#30 [medforge-web builder 5/6] COPY . .
#30 CACHED

#31 [medforge-web builder 4/6] RUN npm ci --no-audit --no-fund
#31 CACHED

#32 [medforge-web runner 3/6] RUN addgroup --system --gid 1001 nextjs     && adduser --system --uid 1001 nextjs
#32 CACHED

#33 [medforge-web builder 6/6] RUN npm run build
#33 CACHED

#34 [medforge-web builder 2/6] WORKDIR /app
#34 CACHED

#35 [medforge-web runner 4/6] COPY --from=builder /app/public ./public
#35 CACHED

#36 [medforge-web builder 3/6] COPY package.json package-lock.json* ./
#36 CACHED

#37 [medforge-web runner 6/6] COPY --from=builder --chown=nextjs:nextjs /app/.next/static ./.next/static
#37 CACHED

#38 [medforge-web] exporting to image
#38 exporting layers done
#38 exporting manifest sha256:0576d8e7f84b86a9141653505e5958152b564751d1168816195be8ad984a33a8 done
#38 exporting config sha256:f4a234f5c0294461c9607195619901d08b3d55a21aaaa9f4ec06be037ffd1816 done
#38 exporting attestation manifest sha256:2d700e8d6f3ebe3f8670873ccf44af2c01bd6a2305d0d6d234c282ef971426e6
#38 exporting attestation manifest sha256:2d700e8d6f3ebe3f8670873ccf44af2c01bd6a2305d0d6d234c282ef971426e6 0.1s done
#38 exporting manifest list sha256:5166fab8bf7e7be9b4406413caa4e456febc3eff7d395c52a8ac6382c5f0b93c 0.0s done
#38 naming to docker.io/library/compose-medforge-web:latest
#38 naming to docker.io/library/compose-medforge-web:latest done
#38 unpacking to docker.io/library/compose-medforge-web:latest 0.0s done
#38 DONE 0.2s

#39 [medforge-caddy] exporting to image
#39 exporting layers done
#39 exporting manifest sha256:b463700f506373c916c63869919fdbd5abee2f47b37cc7989f27f84e7229a2ae done
#39 exporting config sha256:6b334487a46eb84c770484b68651c5f4ea0121c5d5e4a3788c2d622ea095c9fd done
#39 exporting attestation manifest sha256:005e5fc7cc72de6b9923d456c015551f37c6a56c7f9b9c496ed5341e865b3836 0.1s done
#39 exporting manifest list sha256:b1667e4c859127a76bfa3b776adb027478c441d7469e2ebb84046c3c8faa7e01 0.1s done
#39 naming to docker.io/library/compose-medforge-caddy:latest done
#39 unpacking to docker.io/library/compose-medforge-caddy:latest 0.0s done
#39 DONE 0.2s

#40 [medforge-caddy] resolving provenance for metadata file
#40 DONE 0.1s

#41 [medforge-web] resolving provenance for metadata file
#41 DONE 0.0s
 Image compose-medforge-api Built 
 Image compose-medforge-web Built 
 Image compose-medforge-api-worker Built 
 Image compose-medforge-caddy Built 
 Container medforge-db Running 
 Container medforge-caddy Recreate 
 Container medforge-api-worker Recreate 
 Container medforge-api Recreate 
 Container medforge-caddy Recreated 
 Container medforge-api Recreated 
 Container medforge-web Recreate 
 Container medforge-web Recreated 
 Container medforge-api-worker Recreated 
 Container medforge-caddy Starting 
 Container medforge-api-worker Starting 
 Container medforge-api Starting 
 Container medforge-api-worker Started 
 Container medforge-api Started 
 Container medforge-web Starting 
 Container medforge-web Started 
Error response from daemon: failed to set up container networking: Address already in use
