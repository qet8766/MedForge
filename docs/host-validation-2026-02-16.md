## Host Validation Evidence (2026-02-16)

Generated by: `infra/host/validate-gate56.sh`

Runtime:
- API URL: `http://127.0.0.1:8000`
- Pack image: `medforge-pack-default:local`
- DB path: `/home/shk/projects/MedForge/apps/api/gate-evidence.db`

### Create Sessions

- create A: `{"detail":"Session started.","session":{"id":"bbfbdf6b-84a2-4810-97c5-80a1ff79f26d","user_id":"00000000-0000-0000-0000-0000000000a1","tier":"PUBLIC","pack_id":"00000000-0000-0000-0000-000000000100","status":"running","container_id":"b34313cf01f6b632f10970827a37b674e364ba80f2499e78f209d3175d01cc82","gpu_id":0,"slug":"h27i3ufd","workspace_zfs":"tank/medforge/workspaces/00000000-0000-0000-0000-0000000000a1/bbfbdf6b-84a2-4810-97c5-80a1ff79f26d","created_at":"2026-02-16T03:18:53.416503","started_at":"2026-02-16T03:18:53.729067","stopped_at":null,"error_message":null}}`
- create B: `{"detail":"Session started.","session":{"id":"9ea62c95-b555-434c-aedd-2dfbdfce1abf","user_id":"00000000-0000-0000-0000-0000000000b2","tier":"PUBLIC","pack_id":"00000000-0000-0000-0000-000000000100","status":"running","container_id":"9f36c58f17c0437440ba692ff021394d5dc521c1ff14d60220ae115749ea85cc","gpu_id":1,"slug":"btcneecs","workspace_zfs":"tank/medforge/workspaces/00000000-0000-0000-0000-0000000000b2/9ea62c95-b555-434c-aedd-2dfbdfce1abf","created_at":"2026-02-16T03:18:53.776769","started_at":"2026-02-16T03:18:54.084242","stopped_at":null,"error_message":null}}`

### Gate 5 Auth Matrix

- unauthenticated: `401` body=`{"detail":"Authentication required."}`
- non-owner: `403` body=`{"detail":"Session access denied."}`
- owner spoof attempt: `200` x-upstream=`mf-session-h27i3ufd:8080`

### Gate 5 Isolation

- firewall: `Eastâ€“west isolation applied (bridge=br-42fb65ed835a, caddy=172.30.0.2)`
- session B -> session A :8080 blocked (exit=`28`, stderr=`curl: (28) Connection timed out after 3002 milliseconds`)

### Gate 6 End-to-End Core

- GPU in session A: `NVIDIA GeForce RTX 5090`
- workspace write/read: `alpha`
- stop A: `{"detail":"Session stopped.","session":{"id":"bbfbdf6b-84a2-4810-97c5-80a1ff79f26d","user_id":"00000000-0000-0000-0000-0000000000a1","tier":"PUBLIC","pack_id":"00000000-0000-0000-0000-000000000100","status":"stopped","container_id":"b34313cf01f6b632f10970827a37b674e364ba80f2499e78f209d3175d01cc82","gpu_id":0,"slug":"h27i3ufd","workspace_zfs":"tank/medforge/workspaces/00000000-0000-0000-0000-0000000000a1/bbfbdf6b-84a2-4810-97c5-80a1ff79f26d","created_at":"2026-02-16T03:18:53.416503","started_at":"2026-02-16T03:18:53.729067","stopped_at":"2026-02-16T03:18:57.573013","error_message":null}}`
- stopped host check: `404` body=`{"detail":"Session not found."}`
- snapshot: `tank/medforge/workspaces/00000000-0000-0000-0000-0000000000a1/bbfbdf6b-84a2-4810-97c5-80a1ff79f26d@stop-1771211937557`
- stop B: `{"detail":"Session stopped.","session":{"id":"9ea62c95-b555-434c-aedd-2dfbdfce1abf","user_id":"00000000-0000-0000-0000-0000000000b2","tier":"PUBLIC","pack_id":"00000000-0000-0000-0000-000000000100","status":"stopped","container_id":"9f36c58f17c0437440ba692ff021394d5dc521c1ff14d60220ae115749ea85cc","gpu_id":1,"slug":"btcneecs","workspace_zfs":"tank/medforge/workspaces/00000000-0000-0000-0000-0000000000b2/9ea62c95-b555-434c-aedd-2dfbdfce1abf","created_at":"2026-02-16T03:18:53.776769","started_at":"2026-02-16T03:18:54.084242","stopped_at":"2026-02-16T03:18:57.762575","error_message":null}}`

### Residual Gaps

- Caddy wildcard websocket validation is not covered by this script.
- Full browser UI flow validation is not covered by this script.

### API Log Snippet

```text
INFO:     Started server process [154232]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:46222 - "GET /healthz HTTP/1.1" 200 OK
2026-02-16 12:18:53 [info     ] session.start                  gpu_id=0 pack_id=00000000-0000-0000-0000-000000000100 session_id=bbfbdf6b-84a2-4810-97c5-80a1ff79f26d slug=h27i3ufd tier=PUBLIC user_id=00000000-0000-0000-0000-0000000000a1
INFO:     127.0.0.1:46224 - "POST /api/sessions HTTP/1.1" 201 Created
2026-02-16 12:18:54 [info     ] session.start                  gpu_id=1 pack_id=00000000-0000-0000-0000-000000000100 session_id=9ea62c95-b555-434c-aedd-2dfbdfce1abf slug=btcneecs tier=PUBLIC user_id=00000000-0000-0000-0000-0000000000b2
INFO:     127.0.0.1:46230 - "POST /api/sessions HTTP/1.1" 201 Created
INFO:     127.0.0.1:46234 - "GET /api/auth/session-proxy HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:46244 - "GET /api/auth/session-proxy HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:46250 - "GET /api/auth/session-proxy HTTP/1.1" 200 OK
2026-02-16 12:18:57 [info     ] session.stop                   gpu_id=0 pack_id=00000000-0000-0000-0000-000000000100 reason=user session_id=bbfbdf6b-84a2-4810-97c5-80a1ff79f26d slug=h27i3ufd tier=PUBLIC user_id=00000000-0000-0000-0000-0000000000a1
INFO:     127.0.0.1:46252 - "POST /api/sessions/bbfbdf6b-84a2-4810-97c5-80a1ff79f26d/stop HTTP/1.1" 200 OK
INFO:     127.0.0.1:46258 - "GET /api/auth/session-proxy HTTP/1.1" 404 Not Found
2026-02-16 12:18:57 [info     ] session.stop                   gpu_id=1 pack_id=00000000-0000-0000-0000-000000000100 reason=user session_id=9ea62c95-b555-434c-aedd-2dfbdfce1abf slug=btcneecs tier=PUBLIC user_id=00000000-0000-0000-0000-0000000000b2
INFO:     127.0.0.1:46260 - "POST /api/sessions/9ea62c95-b555-434c-aedd-2dfbdfce1abf/stop HTTP/1.1" 200 OK
```
