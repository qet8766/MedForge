services:
  medforge-web-dev:
    image: node:20-alpine
    container_name: medforge-web-dev
    working_dir: /app
    command: sh -c "npm ci --no-audit --no-fund && npm run dev"
    volumes:
      - ../../apps/web:/app
      - web_dev_node_modules:/app/node_modules
    environment:
      NEXT_PUBLIC_API_URL: https://api.${DOMAIN}
      NEXT_PUBLIC_DOMAIN: ${DOMAIN}
    networks:
      - medforge-control

volumes:
  web_dev_node_modules:

networks:
  medforge-control:
